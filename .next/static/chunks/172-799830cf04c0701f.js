(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[172],{9010:function(e,t,n){"use strict";n.d(t,{Z:function(){return imageLoader}});var l=n(9738);function imageLoader(e){let{src:t,width:n,quality:l}=e;return"https://iyke-bulkwill.com".concat(t,"?w=").concat(n,"&q=").concat(l||75)}n.n(l)().config()},2964:function(e,t,n){"use strict";n.d(t,{I:function(){return u},Z:function(){return ListingsLayout}});var l=n(5893),r=n(7294);function ListingsSideNav(){let[e,t]=(0,r.useState)([4e4,6e4]);return(0,r.useEffect)(()=>{let e=document.getElementById("price-range-slider"),n=document.getElementById("price-range-slider-slide"),l=document.getElementById("price-range-slider-btn-1"),r=document.getElementById("price-range-slider-btn-2"),s=e.clientWidth,a=n.clientWidth,i=e.getBoundingClientRect().left,o=(e.clientWidth,0),c=n.getBoundingClientRect().left+a,d=n.getBoundingClientRect().left,u=document.getElementById("input-1"),h=document.getElementById("input-2");function grabSliderBtn1ByMouse(t){let{pageX:r}=t;a=n.clientWidth,s=e.clientWidth,i=e.getBoundingClientRect().left,e.clientWidth,o=n.getBoundingClientRect().left-i,c=r,l.addEventListener("mousemove",moveSliderBtn1ByMouse)}function moveSliderBtn1ByMouse(e){let{pageX:t}=e,l=t-c;if(o+a+l>=s){n.style.width="".concat(s-o,"px"),updatePriceRange();return}n.style.width="".concat(a+l,"px"),updatePriceRange()}function releaseSliderBtn1(t){let{pageX:r}=t;a=n.clientWidth,s=e.clientWidth,i=e.getBoundingClientRect().left,e.clientWidth,o=n.getBoundingClientRect().left-i,c=r,l.removeEventListener("mousemove",moveSliderBtn1ByMouse)}function grabSliderBtn1ByTouch(t){let{touches:r}=t;a=n.clientWidth,s=e.clientWidth,i=e.getBoundingClientRect().left,e.clientWidth,o=n.getBoundingClientRect().left-i,c=r[0].clientX,l.addEventListener("touchmove",moveSliderBtn1ByTouch)}function moveSliderBtn1ByTouch(e){let{touches:t}=e,l=t[0].clientX-c;if(o+a+l>=s){n.style.width="".concat(s-o,"px"),updatePriceRange(),c=t[0].clientX;return}n.style.width="".concat(a+l,"px"),updatePriceRange()}function releaseSliderBtn1ByTouch(t){let{touches:r}=t;a=n.clientWidth,s=e.clientWidth,i=e.getBoundingClientRect().left,e.clientWidth,o=n.getBoundingClientRect().left-i,l.removeEventListener("touchmove",moveSliderBtn1ByTouch)}function grabSliderBtn2ByMouse(t){let{pageX:l}=t;a=n.clientWidth,s=e.clientWidth,i=e.getBoundingClientRect().left,e.clientWidth,o=n.getBoundingClientRect().left-i,d=l,r.addEventListener("mousemove",moveSliderBtn2ByMouse)}function moveSliderBtn2ByMouse(e){let{pageX:t}=e;n.style.marginLeft="".concat(t-i<0?0:t-i,"px"),n.style.width="".concat(a-(t-d)>s?s:a-(t-d),"px"),updatePriceRange()}function releaseSliderBtn2(t){let{pageX:l}=t;a=n.clientWidth,s=e.clientWidth,i=e.getBoundingClientRect().left,e.clientWidth,o=n.getBoundingClientRect().left-i,d=n.getBoundingClientRect().left,r.removeEventListener("mousemove",moveSliderBtn2ByMouse)}function grabSliderBtn2ByTouch(t){let{touches:l}=t;a=n.clientWidth,s=e.clientWidth,i=e.getBoundingClientRect().left,e.clientWidth,o=n.getBoundingClientRect().left-i,d=l[0].pageX,r.addEventListener("touchmove",moveSliderBtn2ByTouch)}function moveSliderBtn2ByTouch(e){let{touches:t}=e;n.style.marginLeft="".concat(t[0].pageX-i<0?0:t[0].pageX-i,"px"),n.style.width="".concat(a-(t[0].pageX-d)>s?s:a-(t[0].pageX-d),"px"),updatePriceRange()}function releaseSliderBtn2ByTouch(){a=n.clientWidth,s=e.clientWidth,i=e.getBoundingClientRect().left,e.clientWidth,o=n.getBoundingClientRect().left-i,d=n.getBoundingClientRect().left,r.removeEventListener("touchmove",moveSliderBtn2ByTouch)}function updateSlider(){n.style.marginLeft="".concat(Number(u.value)*(s/5e5)<0?0:Number(u.value)*(s/5e5),"px"),n.style.width="".concat((Number(h.value)-Number(u.value))*(s/5e5)<=0?0:(Number(h.value)-Number(u.value))*(s/5e5)+o>s?s-o:(Number(h.value)-Number(u.value))*(s/5e5),"px"),a=n.clientWidth,s=e.clientWidth,i=e.getBoundingClientRect().left,e.clientWidth,o=n.getBoundingClientRect().left-i,d=n.getBoundingClientRect().left}function updatePriceRange(){o=n.getBoundingClientRect().left-i,t([Math.floor(5e5/s*o),Math.floor((n.clientWidth+o)/(s/5e5))])}function updatePriceRange2(){updateSlider()}function updatePriceRange1(){updateSlider()}return updateSlider(),l.addEventListener("mousedown",grabSliderBtn1ByMouse),l.addEventListener("mouseup",releaseSliderBtn1),l.addEventListener("mouseleave",releaseSliderBtn1),l.addEventListener("touchstart",grabSliderBtn1ByTouch),l.addEventListener("touchend",releaseSliderBtn1ByTouch),l.addEventListener("touchcancel",releaseSliderBtn1ByTouch),r.addEventListener("mousedown",grabSliderBtn2ByMouse),r.addEventListener("mouseup",releaseSliderBtn2),r.addEventListener("mouseleave",releaseSliderBtn2),r.addEventListener("touchstart",grabSliderBtn2ByTouch),r.addEventListener("touchend",releaseSliderBtn2ByTouch),r.addEventListener("touchcancel",releaseSliderBtn2ByTouch),u.addEventListener("keyup",updatePriceRange1),h.addEventListener("keyup",updatePriceRange2),()=>{l.removeEventListener("mousedown",grabSliderBtn1ByMouse),l.removeEventListener("mouseup",releaseSliderBtn1),l.removeEventListener("mouseleave",releaseSliderBtn1),l.removeEventListener("touchstart",grabSliderBtn1ByTouch),l.removeEventListener("touchend",releaseSliderBtn1ByTouch),l.removeEventListener("touchcancel",releaseSliderBtn1ByTouch),r.removeEventListener("mousedown",grabSliderBtn2ByMouse),r.removeEventListener("mouseup",releaseSliderBtn2),r.removeEventListener("mouseleave",releaseSliderBtn2),r.removeEventListener("touchstart",grabSliderBtn2ByTouch),r.removeEventListener("touchend",releaseSliderBtn2ByTouch),r.removeEventListener("touchcancel",releaseSliderBtn2ByTouch),u.removeEventListener("keyup",updatePriceRange1),h.removeEventListener("keyup",updatePriceRange2)}},[]),(0,l.jsxs)("aside",{className:"lg:sticky top-[77px] lg:float-left left-4 h-fit bottom-4 shadow-lg p-4 overflow-auto lg:w-[350px] bg-white",children:[(0,l.jsx)("div",{}),(0,l.jsxs)("section",{className:"mt-8",children:[(0,l.jsx)("h2",{className:"font-bold text-lg text-slate-700",children:"Categories"}),(0,l.jsxs)("ul",{className:"mt-2 flex lg:flex-wrap gap-2 overflow-auto",children:[(0,l.jsx)("li",{className:"px-2 py-1 whitespace-nowrap block text-center text-sm font-semibold bg-blue-500 text-white rounded-full border-2 border-blue-500",children:"All"}),(0,l.jsx)("li",{className:"px-2 py-1 whitespace-nowrap block text-center text-sm font-semibold rounded-full border-2 border-blue-500",children:"Solar Panels"}),(0,l.jsx)("li",{className:"px-2 py-1 whitespace-nowrap block text-center text-sm font-semibold rounded-full border-2 border-blue-500",children:"CCTVs"}),(0,l.jsx)("li",{className:"px-2 py-1 whitespace-nowrap block text-center text-sm font-semibold rounded-full border-2 border-blue-500",children:"Security Lighs"}),(0,l.jsx)("li",{className:"px-2 py-1 whitespace-nowrap block text-center text-sm font-semibold rounded-full border-2 border-blue-500",children:"Phones"}),(0,l.jsx)("li",{className:"px-2 py-1 whitespace-nowrap block text-center text-sm font-semibold rounded-full border-2 border-blue-500",children:"Laptops"})]})]}),(0,l.jsxs)("section",{className:"mt-8",children:[(0,l.jsx)("h2",{className:"font-bold text-lg text-slate-700",children:"Prices Ranges"}),(0,l.jsxs)("ul",{className:"mt-2 flex lg:flex-wrap gap-2 overflow-auto",children:[(0,l.jsxs)("li",{className:"border-2 whitespace-nowrap border-blue-500 rounded-full font-semibold px-2 py-1",children:[(0,l.jsx)("b",{children:"N"}),"1, 000 - ",(0,l.jsx)("b",{children:"N"}),"20, 000"]}),(0,l.jsxs)("li",{className:"border-2 whitespace-nowrap border-blue-500 rounded-full font-semibold px-2 py-1 bg-blue-500 text-white",children:[(0,l.jsx)("b",{children:"N"}),"20, 000 - ",(0,l.jsx)("b",{children:"N"}),"40, 000"]}),(0,l.jsxs)("li",{className:"border-2 whitespace-nowrap border-blue-500 rounded-full font-semibold px-2 py-1",children:[(0,l.jsx)("b",{children:"N"}),"40, 000 - ",(0,l.jsx)("b",{children:"N"}),"60, 000"]})]}),(0,l.jsx)("h4",{className:"font-semibold text-slate-700 mt-2",children:"Select a custom price range"}),(0,l.jsxs)("div",{className:" flex flex-wrap gap-4 items-center","aria-hidden":"true",children:[(0,l.jsx)("div",{id:"price-range-slider",className:"h-2 w-full max-w-[250px] bg-zinc-300 mt-2 rounded-full",children:(0,l.jsxs)("div",{id:"price-range-slider-slide",className:"bg-sky-500 w-1/2 h-full rounded-full relative",children:[(0,l.jsx)("span",{id:"price-range-slider-btn-1",className:"h-4 w-4 absolute hover:scale-[200%] rounded-full bg-blue-500 shadow-lg top-1/2 -translate-y-1/2 -translate-x-1/2 left-full hover:bg-blue-800 active:bg-blue-700"}),(0,l.jsx)("span",{id:"price-range-slider-btn-2",className:"h-4 w-4 absolute hover:scale-[200%] rounded-full bg-blue-500 shadow-lg top-1/2 -translate-y-1/2 right-full translate-x-1/2 hover:bg-blue-800 active:bg-blue-700"})]})}),(0,l.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,l.jsx)("input",{id:"input-1",onChange:n=>{t([n.target.value,e[1]])},max:5e5,min:0,value:e[0],className:"border border-[1px] rounded block max-w-[100px] p-2 text-sm outline-blue-500 focus:border-none",type:"number"})," ","-",(0,l.jsx)("input",{id:"input-2",onChange:n=>{t([e[0],n.target.value])},min:e[0],value:e[1],className:"border border-[1px] rounded block max-w-[100px] p-2 text-sm outline-blue-500 focus:border-none",type:"number"})]})]})]})]})}var s=n(5675),a=n.n(s),i=n(9010);function ListingsBanners(){return(0,r.useEffect)(()=>{let e=document.getElementById("banners"),t=document.querySelectorAll(".banner").length,n=e.scrollWidth/t,l=1,r=setInterval(()=>(l>t&&(l=1),e.scrollTo(n*(l-1),0),l++,()=>{clearInterval(r)}),3e3);return()=>{clearInterval(r)}},[]),(0,l.jsxs)("div",{id:"banners",className:"flex overflow-hidden aspect-[3/1]",children:[(0,l.jsxs)("div",{className:"banner min-w-full h-full w-full flex items-center relative justify-center",children:[(0,l.jsx)(a(),{className:"block align-middle object-cover",src:"/images/phones.jpg",alt:"Phones on display",height:350,width:1020,loader:i.Z}),(0,l.jsx)("h2",{style:{textShadow:"0 0 10px #333333aa"},className:"font-bold text-center text-white text-3xl absolute",children:"Phones and Accessories"})]}),(0,l.jsxs)("div",{className:"banner min-w-full h-full w-full flex items-center relative justify-center",children:[(0,l.jsx)(a(),{className:"block align-middle object-cover",src:"/images/laptops.jpg",alt:"Phones on display",height:350,width:1020,loader:i.Z}),(0,l.jsx)("h2",{style:{textShadow:"0 0 10px #333333aa"},className:"font-bold text-center text-white text-3xl absolute",children:"Laptops"})]}),(0,l.jsxs)("div",{className:"banner min-w-full h-full w-full flex items-center relative justify-center",children:[(0,l.jsx)(a(),{className:"block align-middle object-cover",src:"/images/commercial_solar_panels.jpg",alt:"Phones on display",height:350,width:1020,loader:i.Z}),(0,l.jsx)("h2",{style:{textShadow:"0 0 10px #333333aa"},className:"font-bold text-center text-white text-3xl absolute",children:"Solar Panel"})]})]})}var o=n(1163),c=n(2684);function SearchBar(e){let{appAuthToken:t}=e,[n,s]=(0,r.useState)([]),[a,i]=(0,r.useState)(""),d=(0,o.useRouter)();async function getSuggestions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;try{let n=await fetch("/api/search/suggestions?q=".concat(e.trim().toLowerCase()),{headers:{"X-Application-Authorization-Token":t}}),l=await n.json();s(l)}catch(e){console.log(e)}}return(0,l.jsxs)("div",{className:"w-full shadow-lg mb-4 rounded-md relative",children:[(0,l.jsxs)("div",{className:"flex w-full p-4 gap-2",children:[(0,l.jsx)("input",{type:"text",className:"flex-grow border-2 border-black px-2 py-1 rounded",placeholder:"Search for products",value:a,onChange:e=>{let{target:t}=e;i(t.value),getSuggestions(t.value)},onBlur:e=>setTimeout(()=>s([]),300)}),(0,l.jsx)("button",{onClick:()=>d.push("/listings/search?q=".concat(a)),className:"bg-blue-500 text-white rounded whitespace-nowrap px-4 py-2 flex justify-center items-center gap-2",children:(0,l.jsx)(c.XPI,{})})]}),n.length>0?(0,l.jsx)("div",{className:"absolute top-20 z-30 rounded shadow-lg bg-white left-0 w-full flex flex-col overflow-x-clip overflow-y-auto max-h-44",children:n.map(e=>(0,l.jsx)("small",{onClick:()=>d.push("/listings/search?q=".concat(e)),className:"flex-grow p-4 hover:bg-slate-200",children:e}))}):""]})}let d={fetchingProducts:!0,productFetchStatus:"pending",products:[],fetchingAutoComplete:!1,autoCompleteFetchStatus:"pending",autoComplete:[],fetchingSearchResults:!1,searchResultsStatus:"pending",searchResults:[],fetchingMoreProducts:["all","pending",!0],moreProducts:[],currentCategory:"all",priceRange:[4e4,6e4],cart:[]};function reducer(e,t){switch(t.type){case"set_autocomplete":return{...e,autoCompleteFetchStatus:"success",autoComplete:t.payload,fetchingAutoComplete:!1};case"set_current_category":return{...e,currentCategory:t.payload};case"set_price_range":return{...e,priceRange:t.payload};case"set_autocomplete_fetch_status":return{...e,autoCompleteFetchStatus:t.payload};case"set_more_products":if("failed"===t.payload.status)return{...e,fetchingMoreProducts:[t.payload.category,t.payload.status,!0]};if("pending"===t.payload.status)return{...e,fetchingMoreProducts:[t.payload.category,t.payload.status,!1]};return{...e,products:[...e.products,...t.payload.data],fetchingMoreProducts:[t.payload.category,t.payload.status,t.payload.finished]};case"set_product_fetch_status":return{...e,productFetchStatus:t.payload};case"set_products":return{...e,products:t.payload,productFetchStatus:"success",fetchingProducts:!1};case"set_search_results":return{...e,searchResults:t.payload,searchResultsStatus:"success",fetchingSearchResults:!1};case"set_search_results_fetch_status":return{...e,searchResultsStatus:t.payload};case"add_to_cart":return{...e,cart:[...e.cart,t.payload]};default:return e}}let u=(0,r.createContext)({state:d,dispatch:e=>{}});function ListingsLayout(e){let{children:t}=e,[n,s]=(0,r.useReducer)(reducer,d);return(0,l.jsx)(u.Provider,{value:{state:n,dispatch:s},children:(0,l.jsxs)("div",{className:"mt-4 lg:mt-[77px] relative max-w-6xl mx-auto pb-4",children:[(0,l.jsx)(ListingsSideNav,{}),(0,l.jsxs)("main",{className:"lg:ml-[370px] p-4 bg-white shadow-lg mb-4",children:[(0,l.jsx)(SearchBar,{}),(0,l.jsx)(ListingsBanners,{}),(0,l.jsx)("div",{children:t})]}),(0,l.jsx)("div",{className:"clear-both"})]})})}},6647:function(){}}]);