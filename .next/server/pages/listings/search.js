"use strict";(()=>{var e={};e.id=578,e.ids=[578,888,660],e.modules={29:(e,t,s)=>{s.r(t),s.d(t,{config:()=>P,default:()=>b,getServerSideProps:()=>S,getStaticPaths:()=>_,getStaticProps:()=>j,reportWebVitals:()=>v,routeModule:()=>y,unstable_getServerProps:()=>q,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>L,unstable_getStaticPaths:()=>k,unstable_getStaticProps:()=>w});var a={};s.r(a),s.d(a,{default:()=>Search,getStaticProps:()=>getStaticProps});var r=s(7093),i=s(5244),o=s(1323),l=s(1207),n=s(2173),c=s(997),d=s(968),u=s.n(d),p=s(6689),g=s(2964),m=s(231),x=s(1664),h=s.n(x),f=s(1163);let getStaticProps=()=>({props:{appAuthToken:"$2b$10$DwcQnmA7g6FbBTzDnL9IfOQqafDd7Ka7SIDuAzbMMUskoGCO0206G"}});function Search({appAuthToken:e}){let{state:t,dispatch:s}=(0,p.useContext)(g.I),{query:a}=(0,f.useRouter)(),[r,i]=(0,p.useState)([]),[o,l]=(0,p.useState)(!0),[n,d]=(0,p.useState)("pending");function addToCart({currentTarget:e}){let{id:a}=e.dataset;s({type:"add_to_cart",payload:t.products.find(e=>e._id===a)})}return(0,p.useEffect)(()=>{l(!0),d("pending"),fetch(`/api/search?q=${a.q}&page=1`,{headers:{"X-Application-Authorization-Token":e}}).then(e=>e.json()).then(e=>{i(e),d("successful"),l(!1)}).catch(e=>{console.log(e),d("failed"),l(!1)})},[a]),(0,c.jsxs)("div",{children:[c.jsx("div",{className:"mb-6"}),c.jsx("div",{className:`${"successful"===n&&"grid"} grid-cols-4 gap-y-2 gap-x-4 max-[750px]:grid-cols-3 max-[500px]:grid-cols-2 max-[250px]:grid-cols-1`,children:o?c.jsx("p",{className:"font-semibold text-slate-300 text-center",children:"Loading..."}):"failed"===n?c.jsx("p",{className:"font-semibold text-slate-300 text-center",children:"Failed to load products"}):r.map(e=>(0,c.jsxs)("div",{"data-id":e._id,className:"hover:shadow-lg p-2 h-fit",children:[c.jsx("img",{alt:e.name,src:e.imageUrl,height:150,width:150,loading:"lazy",className:"block aspect-square align-center object-cover w-full"}),c.jsx("small",{className:"font-semibold",children:e.name}),(0,c.jsxs)("p",{className:"font-bold",children:["N",e.price]}),(0,c.jsxs)("div",{className:"flex gap-1 flex-col",children:[(0,c.jsxs)("button",{onClick:addToCart,"data-id":e._id,className:"flex-grow flex items-center justify-center gap-1 text-sm px-2 py-1 rounded bg-blue-500 w-full text-white font-semibold active:scale-95",children:[c.jsx(m.rI6,{})," Add to cart"]}),c.jsx(h(),{className:"text-[12px] bg-slate-200 rounded px-2 py-1 text-center",href:`/listings/${e._id}`,children:"View product"})]})]},e._id))}),t.fetchingMoreProducts[2]||c.jsx(m.fCD,{className:"m-auto text-zinc-600"})]})}Search.getLayout=e=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(u(),{children:[c.jsx("title",{children:"Product Listings | IYKE-BULKWILL"}),c.jsx("meta",{name:"description",content:"Check out our listings to see our exclusive offers"}),c.jsx("meta",{name:"og:title",content:"IYKE_BULKWILL - Product Listings"}),c.jsx("meta",{name:"og:description",content:"Check out our listings to see our exclusive offers"}),c.jsx("meta",{name:"og:image",content:"https://iyke-bulkwill.com/images/og_image.png"}),c.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),c.jsx("meta",{name:"twitter:title",content:"Product Listings | IYKE-BULKWILL"}),c.jsx("meta",{name:"twitter:description",content:"Check out our listings to see our exclusive offers"}),c.jsx("meta",{name:"twitter:image",content:"https://iyke-bulkwill.com/images/og_image.png"})]}),c.jsx(g.Z,{children:e})]});let b=(0,o.l)(a,"default"),j=(0,o.l)(a,"getStaticProps"),_=(0,o.l)(a,"getStaticPaths"),S=(0,o.l)(a,"getServerSideProps"),P=(0,o.l)(a,"config"),v=(0,o.l)(a,"reportWebVitals"),w=(0,o.l)(a,"unstable_getStaticProps"),k=(0,o.l)(a,"unstable_getStaticPaths"),L=(0,o.l)(a,"unstable_getStaticParams"),q=(0,o.l)(a,"unstable_getServerProps"),N=(0,o.l)(a,"unstable_getServerSideProps"),y=new r.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/listings/search",pathname:"/listings/search",bundlePath:"",filename:""},components:{App:n.default,Document:l.default},userland:a})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[761,432,859,450,173,207,964],()=>__webpack_exec__(29));module.exports=s})();