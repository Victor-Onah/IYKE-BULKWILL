"use strict";(()=>{var e={};e.id=578,e.ids=[578,888,660],e.modules={29:(e,t,a)=>{a.r(t),a.d(t,{config:()=>_,default:()=>f,getServerSideProps:()=>S,getStaticPaths:()=>b,getStaticProps:()=>j,reportWebVitals:()=>v,routeModule:()=>N,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>q,unstable_getStaticParams:()=>k,unstable_getStaticPaths:()=>P,unstable_getStaticProps:()=>w});var s={};a.r(s),a.d(s,{default:()=>Search,getStaticProps:()=>getStaticProps});var r=a(7093),i=a(5244),l=a(1323),c=a(1207),o=a(8234),n=a(997),d=a(968),u=a.n(d),g=a(6689),m=a(2964),x=a(231),p=a(1163),h=a(7700);let getStaticProps=()=>({props:{appAuthToken:"$2b$10$DwcQnmA7g6FbBTzDnL9IfOQqafDd7Ka7SIDuAzbMMUskoGCO0206G"}});function Search({appAuthToken:e}){let{state:t,dispatch:a}=(0,g.useContext)(m.I),{query:s}=(0,p.useRouter)(),[r,i]=(0,g.useState)([]),[l,c]=(0,g.useState)(!0),[o,d]=(0,g.useState)("pending");function addToCart({currentTarget:e}){let{id:t}=e.dataset;a({type:"add_to_cart",payload:{...r.find(e=>e._id===t),quantity:1}})}return(0,g.useEffect)(()=>{c(!0),d("pending"),fetch(`/api/search?q=${s.q}&page=1`,{headers:{"X-Application-Authorization-Token":e}}).then(e=>e.json()).then(e=>{i(e),d("successful"),c(!1)}).catch(e=>{console.log(e),d("failed"),c(!1)})},[s]),(0,n.jsxs)(n.Fragment,{children:[n.jsx(u(),{children:(0,n.jsxs)("title",{children:["Search - ",s.q]})}),(0,n.jsxs)("div",{children:[n.jsx("div",{className:"mb-6"}),n.jsx("div",{className:`${"successful"===o&&"grid"} grid-cols-4 gap-y-2 gap-x-4 max-[750px]:grid-cols-3 max-[500px]:grid-cols-2 max-[250px]:grid-cols-1`,children:l?n.jsx("p",{className:"font-semibold text-slate-300 text-center",children:"Loading..."}):"failed"===o?n.jsx("p",{className:"font-semibold text-slate-300 text-center",children:"Failed to load products"}):"all"===t.currentCategory?r.map(e=>(0,n.jsxs)("div",{"data-id":e._id,className:"hover:shadow-lg p-2 h-fit",children:[n.jsx("img",{alt:e.name,src:e.imageUrl,height:150,width:150,loading:"lazy",className:"block aspect-square align-center object-cover w-full"}),n.jsx("p",{className:"font-semibold text-sm capitalize",children:e.name}),n.jsx("div",{className:"flex gap-1 flex-col",children:(0,n.jsxs)("button",{onClick:addToCart,"data-id":e._id,className:"flex-grow flex items-center justify-center gap-1 text-sm px-2 py-1 rounded bg-blue-500 w-full text-white font-semibold active:scale-95",children:[n.jsx(x.rI6,{})," Add to cart"]})})]},e._id)):r.filter(e=>e.category===t.currentCategory).map(e=>(0,n.jsxs)("div",{"data-id":e._id,className:"hover:shadow-lg p-2 h-fit",children:[n.jsx("img",{alt:e.name,src:e.imageUrl,height:150,width:150,loading:"lazy",className:"block aspect-square align-center object-cover w-full"}),n.jsx("p",{className:"font-semibold text-sm",children:e.name}),n.jsx("div",{className:"flex gap-1 flex-col",children:(0,n.jsxs)("button",{onClick:addToCart,"data-id":e._id,className:"flex-grow flex items-center justify-center gap-1 text-sm px-2 py-1 rounded bg-blue-500 w-full text-white font-semibold active:scale-95",children:[n.jsx(x.rI6,{})," Add to cart"]})})]},e._id))}),t.fetchingMoreProducts[2]||n.jsx(x.fCD,{className:"m-auto text-zinc-600"})]})]})}Search.getLayout=e=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(u(),{children:[n.jsx("title",{children:"Product Listings | IYKE-BULKWILL"}),n.jsx("meta",{name:"description",content:"Check out our listings to see our exclusive offers"}),n.jsx("meta",{name:"og:title",content:"Search | Find exclusive offers and affordable pricing - Iyke Bulkwill"}),n.jsx("meta",{name:"og:description",content:"Check out our listings to see our exclusive offers"}),n.jsx("meta",{name:"og:image",content:"https://iyke-bulkwill.com/images/og_image.png"}),n.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),n.jsx("meta",{name:"twitter:title",content:"Search | Find exclusive offers and affordable pricing - Iyke Bulkwill"}),n.jsx("meta",{name:"twitter:description",content:"Check out our listings to see our exclusive offers"}),n.jsx("meta",{name:"twitter:image",content:"https://iyke-bulkwill.com/images/og_image.png"})]}),(0,n.jsxs)(m.Z,{children:[e,n.jsx(h.Z,{})]})]});let f=(0,l.l)(s,"default"),j=(0,l.l)(s,"getStaticProps"),b=(0,l.l)(s,"getStaticPaths"),S=(0,l.l)(s,"getServerSideProps"),_=(0,l.l)(s,"config"),v=(0,l.l)(s,"reportWebVitals"),w=(0,l.l)(s,"unstable_getStaticProps"),P=(0,l.l)(s,"unstable_getStaticPaths"),k=(0,l.l)(s,"unstable_getStaticParams"),y=(0,l.l)(s,"unstable_getServerProps"),q=(0,l.l)(s,"unstable_getServerSideProps"),N=new r.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/listings/search",pathname:"/listings/search",bundlePath:"",filename:""},components:{App:o.default,Document:c.default},userland:s})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[761,432,859,450,234,207,964,700],()=>__webpack_exec__(29));module.exports=a})();